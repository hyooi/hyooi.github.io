---
layout: post
title:  "Load Balancer"
---

# 로드밸런서?
- 서버의 부하를 분산해주는 장치
- 클라이언트와 서버 풀 사이에 위치
- 하나의 서버에 트래픽이 집중되지 않도록 관리함
<br><br>
  

# 로드밸런싱 알고리즘
1. 라운드로빈
  - 요청을 서버 순서대로 돌아가며 배정하는 방식
  - 여러대의 서버가 동일한 스펙을 가지고 서버와의 연결이 오래 지속되지 않는 경우 적합

2. 가중 라운드로빈
  - 각 서버마다 가중치를 매기고 가중치가 높은 서버에 요청을 우선적으로 배분
  - 서버간 트래픽 처리가 상이한 경우 사용되는 부하 분산 방식
    
3. IP해시
  - 클라이언트의 IP를 특정 서버로 연결해 처리
  - 사용자의 IP를 해싱해 해당 데이터를 매핑함

4. 최소 연결
  - 요청이 들어온 시점에 가장 적은 연결상태를 보이는 서버에 우선적으로 배분
  - 세션이 길어지거나 서버에 분배된 트래픽들이 일정하지 않은 경우 적합

5. 최소 응답시간
  - 서버와 연결상태와 응답시간을 고려하여 배분
<br><br>

# L4로드밸런서와 L7로드밸런서
### L4?
- IP, TCP, UDP등의 정보(네트워크, 전송계층)를 바탕으로 분산처리
- EX. IP주소, 포트번호, MAC주소, 전송 프로토콜에 따라 배분


### L7?
- 응용 계층에서 분산하므로 HTTP헤더, 쿠키 등과 같은 사용자 요청을 기준으로 트래픽 분산이 가능
- 특정한 패턴을 지닌 바이러스를 감지할 수 있고, DDoS같은 비정상적인 트래픽 필터링 가능