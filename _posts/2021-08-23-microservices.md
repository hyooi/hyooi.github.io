---
layout: post
title:  "마이크로서비스"
---

# Microservices
- 하나의 어플리케이션을 다수의 독립적인 서비스들의 집합으로 구성하는 것
- 서비스는 각자의 **별도의 프로세스**에서 실행되며, http api와 같은 가벼운 매커니즘으로 통신
- 서비스들은 각자의 비즈니스 기능을 담당
- 서로 다른 프로그래밍 언어나 database를 사용할 수 있음
- **독립**적으로 배포
- amazone, netflix가 대표적인 마이크로서비스 기반 회사


## Monolithic의 이슈 해결
- 작은 서비스 단위로 확장 가능
- 일부의 장애가 전체 시스템 장애로 이어지지 않음
- 서비스 단위 배포 가능
- **빠르게 변화하는 비즈니스 환경에 민첩한 대응**이 가능


## MSA가 인기를 끄는 이유
- 비즈니스 환경이 빠르게 급변하므로 그에 대응할 수 있어야함
- Cloud computing이 발전해 msa의 탄력적인 운용이 가능해짐
- 전통적인 RDBMS를 넘어 no sql이 안정화되면서, db선택 가능 범위가 넓어짐
- docker, kubernates등의 컨테이너 시스템이 안정화되며,
대용량 마이크로 서비스가 운영될 수 있는 토대 마련됨
- netflix oss가 msa를 위한 안정적인 라이브러리 제공


## 장점
- 각각의 서비스는 독립적으로 개발되어 빠르게 빌드, 테스트, 배포됨
- 작은 서비스 단위로 확장 가능(트래픽이 몰리는 서비스만 선택적 확장)
- Polyglot architecture지원
  - 각 서비스에 맞는 고유한 언어, framework사용 가능
- 서비스 크기가 작아 품질 관리에 용이. 코드 개선시 영향도가 낮음


## 단점
- 서버 리소스 사용이 monolith보다 비효율적
- 내부 호출보다 성능이 떨어짐
- 서비스 마다 jvm 등 중복 사용
- 모니터링 대상 증가 및 다양한 장애 상황 발생 등의 운영 어려움
- 배포 대상 서비스 증가 및 기술의 다변화
- 트랜잭션 처리 어려움
- 서비스 간 polyglot data store사용
