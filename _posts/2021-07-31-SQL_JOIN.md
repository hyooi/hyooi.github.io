---
layout: post
title:  "조인"
---

# 조인
- 두 개 이상의 테이블을 연결지어 수행하는 작업
- 인덱스 다음으로 많은 SQL튜닝 원인을 제공함

## 1-1. Nested Loop Join
- 드라이빙 테이블(=outer table)로 선정된 테이블로부터, where절에 정의된 검색조건을 만족하는 데이터들을 걸러낸 후,
이 값들을 가지고 **조인 대상 테이블을 반복적으로 검색**해 최종 결과값을 얻어내는 방식
- **driving table의 모든 데이터를 조인**하므로, 조인횟수를 최소화하는 것이 중요함(-> driving table건수가 10건이면 10번 조인)
- 연결되는 컬럼은 인덱스가 구성되어 있어야 함

### 1-1-1. nested loop join유의점
- 인덱스에 의한 액세스에 기반하므로, **대량 데이터 처리에 적합하지 않음**
- driving table은 테이블의 데이터가 적거나, where조건으로 **row를 적절하게 제어**할 수 있어야 함
- driven table은 조인을 위한 적절한 **인덱스**가 있어야 함

### 1-1-2. driving테이블 순서 제어
- 힌트: order, leading
- 뷰, supressing
- 이 외에도 sql에서 조인순서를 변경할 수도 있음(cbo에서는 불가)
- 